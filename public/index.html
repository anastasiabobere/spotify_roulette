<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content=" Anastasia Bobere" />
    <meta name="description" content="Spotify Api roulette game" />
    <meta name="keywords" content="Spotify WEB API Game roulette" />
    <script
      src="https://kit.fontawesome.com/1995a9df69.js"
      crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/bg.css" />
    <link rel="stylesheet" href="css/main.css" />
    <title>Spotify roulette</title>
  </head>
  <body>
    <section id="home">
      <h1>Welcome to Spotify Roulette</h1>

      <div class="buttons">
        <input type="number" id="joinRoomInput" placeholder="Please enter id" />

        <button id="joinRoom" class="btn-blue">Join Room</button>

        <button id="createRoom" class="btn-green">Create Room</button>
        <button
          id="login"
          class="btn-blue"
          onclick="window.location.href='/login';">
          <a href="/login">Login with Spotify</a>
        </button>
      </div>
      <div class="bubble-how">
        <h2>How to play?</h2>
        <p>
          When at least 4 people joined the game can get started, while playing
          you will be shown random songs from top listened and you have to guess
          who listened to this in the last week ! Simple as that
        </p>
      </div>

      <div class="bubble-name">
        <h2>Made by Anastasia Bobere</h2>
      </div>
      <div class="bubble-contact">
        <h3>
          <a
            href="https://anastasiabobere.github.io/anastasia-contact/"
            target="_blank"
            >Contact Me</a
          >
        </h3>
      </div>
    </section>
    <div class="background">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="server/createRooms.js"></script>
    <script src="server/joinRooms.js"></script>
    <script src="js/script.js"></script>
    <script>
      window.onload = () => {
        const hash = window.location.hash;
        if (hash) {
          const params = new URLSearchParams(hash.substring(1));
          const accessToken = params.get("access_token");
          const refreshToken = params.get("refresh_token");
          const error = params.get("error");

          if (accessToken) {
            console.log("Access Token:", accessToken);
            console.log("Refresh Token:", refreshToken);
            // Store the tokens (e.g., in local storage) and use them to make API calls
          } else if (error) {
            console.error("Spotify Error:", error);
          }

          // Remove the hash from the URL
          window.location.hash = "";
        }
      };
    </script>
  </body>
</html>
